'''import streamlit as st
import pandas as pd
    data={
    'ä¸‰å“ç‹':[100,200,300,400,500,600,700,800,900,1000,1100,1200],
    'å…°å·ç‰›è‚‰é¢':[110,220,330,440,550,660,770,880,990,1010,1120,1230],
    'é˜¿ä¸‰ç‚’é¢':[111,222,333,444,555,666,777,888,999,1000,1100,1200],
    'èœœé›ªå†°åŸ':[140,250,360,470,580,690,700,810,910,1100,1200,1300],
    'è“å¸ˆå‚…èºè›³ç²‰':[144,155,166,477,588,699,700,800,950,1080,1290,1380],
    'æå››å¿«é¤':[177,288,388,488,499,500,688,799,800,500,600,1000],
}
ind=pd.Series(['01æœˆ','02æœˆ','03æœˆ''04æœˆ','05æœˆ','06æœˆ',
               '07æœˆ','08æœˆ','09æœˆ','10æœˆ','11æœˆ','12æœˆ'],name='æœˆä»½')

df=pd.DataFrame(data,index=ind)

st.dataframe(df)

st.line_chart(df)

st.bar_chart(df)

map_data = {
    
    "latitude": [22.853838, 22.965046, 22.812200, 22.809105, 22.839699],
    "longitude": [108.222177, 108.353921, 108.266629, 108.378664, 108.245804]
}
mp_df=pd.DataFrame(map_data)
st.map(mp_df)
'''
import streamlit as st
import pandas as pd
import numpy as np

# -------------------------- 1. é¡µé¢é…ç½®ï¼ˆè‡ªå®šä¹‰æ ‡é¢˜+å›¾æ ‡ï¼‰ --------------------------
st.set_page_config(
    page_title="å—å®ç¾é£Ÿæ•°æ®ä»ªè¡¨ç›˜",
    page_icon="ğŸœ",
    layout="wide"  # å®½å±å¸ƒå±€ï¼ŒåŒ¹é…å‚è€ƒå›¾
)

# -------------------------- 2. æ•°æ®å‡†å¤‡ --------------------------
# åŸºç¡€é¤å…æ•°æ®ï¼ˆ5å®¶åº—é“ºï¼‰
restaurants_data = {
    "é¤å…": ["æå››å¥½åƒé¥­", "è“å¸ˆå‚…èºè›³ç²‰", "å¼ ä¸‰å¿«é¤", "èœœé›ªå†°åŸ", "é˜¿ä¸‰ç‚’é¢"],
    "ç±»å‹": ["ä¸­é¤", "ä¸­é¤", "å¿«é¤", "é¥®å“", "å¿«é¤"],
    "è¯„åˆ†": [4.2, 4.5, 4.0, 4.7, 4.3],
    "äººå‡æ¶ˆè´¹(å…ƒ)": [15, 20, 25, 35, 50],
    "latitude": [22.853838, 22.965046, 22.812200, 22.809105, 22.839699],
    "longitude": [108.222177, 108.353921, 108.266629, 108.378664, 108.245804]
}
df_rest = pd.DataFrame(restaurants_data)

# 12ä¸ªæœˆä»·æ ¼èµ°åŠ¿æ•°æ®ï¼ˆ5å®¶é¤å…ï¼‰
months = [f"{i}æœˆ" for i in range(1, 13)]
price_trend_data = {
    "æœˆä»½": months,
    "æå››å¥½åƒé¥­": np.random.randint(13, 17, size=12),  # å›´ç»•15æ³¢åŠ¨
    "è“å¸ˆå‚…èºè›³ç²‰": np.random.randint(18, 22, size=12),  # å›´ç»•20æ³¢åŠ¨
    "å¼ ä¸‰å¿«é¤": np.random.randint(23, 27, size=12),  # å›´ç»•25æ³¢åŠ¨
    "èœœé›ªå†°åŸ": np.random.randint(33, 37, size=12),      # å›´ç»•35æ³¢åŠ¨
    "é˜¿ä¸‰ç‚’é¢": np.random.randint(48, 52, size=12)  # å›´ç»•50æ³¢åŠ¨
}
df_trend = pd.DataFrame(price_trend_data).set_index("æœˆä»½")

# -------------------------- 3. ç•Œé¢å¸ƒå±€ï¼ˆåŒ¹é…å‚è€ƒå›¾é£æ ¼ï¼‰ --------------------------
# æ·±è‰²èƒŒæ™¯ï¼ˆæ¨¡æ‹Ÿå‚è€ƒå›¾çš„æ·±è‰²é£æ ¼ï¼‰
st.markdown("""
    <style>
    .stApp {
        background-color: #1E1E1E;
        color: white;
    }
    .stHeader {
        background-color: #1E1E1E;
    }
    </style>
""", unsafe_allow_html=True)

# æ ‡é¢˜
st.title("å—å®ç¾é£Ÿæ•°æ®ä»ªè¡¨ç›˜")

# åˆ†æ å¸ƒå±€ï¼ˆå·¦ä¾§åœ°å›¾+å³ä¾§å›¾è¡¨ï¼‰
col1, col2 = st.columns([1, 2])

with col1:
    # 1. åœ°å›¾ï¼šé¤å…ä½ç½®
    st.subheader("é¤å…åˆ†å¸ƒ")
    st.map(df_rest[["latitude", "longitude"]], zoom=11)  # èšç„¦å—å®

with col2:
    # 2. è¯„åˆ†æŸ±çŠ¶å›¾
    st.subheader("é¤å…è¯„åˆ†")
    st.bar_chart(df_rest.set_index("é¤å…")["è¯„åˆ†"], color="#4CAF50")

# 3. ä»·æ ¼èµ°åŠ¿æŠ˜çº¿å›¾ï¼ˆ5æ¡æŠ˜çº¿ï¼‰
st.subheader("12ä¸ªæœˆäººå‡ä»·æ ¼èµ°åŠ¿")
st.line_chart(df_trend, color=["#FF5722", "#2196F3", "#4CAF50", "#FFC107", "#9C27B0"])

# 4. ç”¨é¤é«˜å³°æ—¶æ®µé¢ç§¯å›¾ï¼ˆæ¨¡æ‹Ÿæ•°æ®ï¼‰
st.subheader("ç”¨é¤é«˜å³°æ—¶æ®µ")
time_slots = ["10:00", "12:00", "14:00", "16:00", "18:00", "20:00", "22:00"]
peak_data = {
    "æ—¶æ®µ": time_slots,
    "å®¢æµé‡": [50, 120, 60, 80, 150, 130, 70]
}
st.area_chart(pd.DataFrame(peak_data).set_index("æ—¶æ®µ"), color="#9C27B0")

# 5. é¤å…è¯¦æƒ…è¡¨æ ¼
st.subheader("é¤å…è¯¦æƒ…")
st.dataframe(df_rest, use_container_width=True)
